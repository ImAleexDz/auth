{"ast":null,"code":"import _defineProperty from \"C:/Users/Aleex/Desktop/nextjs/auth/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport { loginUser } from '../lib/auth';\nimport Router from 'next/router';\n\nvar LoginForm = function LoginForm() {\n  _s();\n\n  var _useState = useState({\n    email: '',\n    password: '',\n    error: ''\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var handleChange = function handleChange(event) {\n    setState(_objectSpread(_objectSpread({}, state), {}, _defineProperty({}, event.target.name, event.target.value)));\n  };\n\n  var handleSubmit = function handleSubmit(event) {\n    var email = state.email,\n        password = state.password;\n    event.preventDefault();\n    setState({\n      error: ''\n    });\n    loginUser(email, password).then(function () {\n      Router.push('/profile');\n    })[\"catch\"](showError);\n  };\n\n  showError = function showError(err) {\n    console.error(err);\n    var error = err.response && err.response.data || err.message;\n    setState({\n      error: error\n    });\n  };\n\n  var email = state.email,\n      password = state.password,\n      error = state.error;\n  return /*#__PURE__*/_jsxs(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      children: /*#__PURE__*/_jsx(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"email\",\n        value: email,\n        onChange: handleChange\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      children: /*#__PURE__*/_jsx(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"password\",\n        value: password,\n        onChange: handleChange\n      })\n    }), /*#__PURE__*/_jsx(\"button\", {\n      type: \"submit\",\n      children: \"Submit\"\n    }), error && /*#__PURE__*/_jsx(\"div\", {\n      children: error\n    })]\n  });\n};\n\n_s(LoginForm, \"+X0io4HdL99SjATUk7uO9liMe30=\");\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["C:/Users/Aleex/Desktop/nextjs/auth/components/LoginForm.js"],"names":["React","useState","loginUser","Router","LoginForm","email","password","error","state","setState","handleChange","event","target","name","value","handleSubmit","preventDefault","then","push","showError","err","console","response","data","message"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,MAAP,MAAmB,aAAnB;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA;;AAAA,kBACMH,QAAQ,CAAC;AAC/BI,IAAAA,KAAK,EAAE,EADwB;AAE/BC,IAAAA,QAAQ,EAAE,EAFqB;AAG/BC,IAAAA,KAAK,EAAE;AAHwB,GAAD,CADd;AAAA,MACbC,KADa;AAAA,MACNC,QADM;;AAOpB,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,KAAK,EAAI;AAC1BF,IAAAA,QAAQ,iCACDD,KADC,2BAEHG,KAAK,CAACC,MAAN,CAAaC,IAFV,EAEiBF,KAAK,CAACC,MAAN,CAAaE,KAF9B,GAAR;AAGH,GAJD;;AAMA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAJ,KAAK,EAAI;AAAA,QACnBN,KADmB,GACAG,KADA,CACnBH,KADmB;AAAA,QACZC,QADY,GACAE,KADA,CACZF,QADY;AAE1BK,IAAAA,KAAK,CAACK,cAAN;AACAP,IAAAA,QAAQ,CAAC;AAAEF,MAAAA,KAAK,EAAE;AAAT,KAAD,CAAR;AACAL,IAAAA,SAAS,CAACG,KAAD,EAAQC,QAAR,CAAT,CAA2BW,IAA3B,CAAgC,YAAM;AAClCd,MAAAA,MAAM,CAACe,IAAP,CAAY,UAAZ;AACH,KAFD,WAGOC,SAHP;AAIH,GARD;;AAUAA,EAAAA,SAAS,GAAG,mBAAAC,GAAG,EAAI;AACfC,IAAAA,OAAO,CAACd,KAAR,CAAca,GAAd;AACA,QAAMb,KAAK,GAAGa,GAAG,CAACE,QAAJ,IAAgBF,GAAG,CAACE,QAAJ,CAAaC,IAA7B,IAAqCH,GAAG,CAACI,OAAvD;AACAf,IAAAA,QAAQ,CAAC;AAAEF,MAAAA,KAAK,EAALA;AAAF,KAAD,CAAR;AACH,GAJD;;AAvBoB,MA6BbF,KA7Ba,GA6BaG,KA7Bb,CA6BbH,KA7Ba;AAAA,MA6BNC,QA7BM,GA6BaE,KA7Bb,CA6BNF,QA7BM;AAAA,MA6BIC,KA7BJ,GA6BaC,KA7Bb,CA6BID,KA7BJ;AA+BhB,sBACI;AAAM,IAAA,QAAQ,EAAEQ,YAAhB;AAAA,4BACA;AAAA,6BAAK;AAAO,QAAA,IAAI,EAAC,OAAZ;AACD,QAAA,IAAI,EAAC,OADJ;AAED,QAAA,WAAW,EAAC,OAFX;AAGD,QAAA,KAAK,EAAEV,KAHN;AAID,QAAA,QAAQ,EAAEK;AAJT;AAAL,MADA,eAOA;AAAA,6BAAK;AAAO,QAAA,IAAI,EAAC,UAAZ;AACD,QAAA,IAAI,EAAC,UADJ;AAED,QAAA,WAAW,EAAC,UAFX;AAGD,QAAA,KAAK,EAAEJ,QAHN;AAID,QAAA,QAAQ,EAAEI;AAJT;AAAL,MAPA,eAaA;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA,MAbA,EAcCH,KAAK,iBAAI;AAAA,gBAAMA;AAAN,MAdV;AAAA,IADJ;AAkBP,CAjDD;;GAAMH,S;;KAAAA,S;AAmDN,eAAeA,SAAf","sourcesContent":["import React, { useState } from 'react'\r\nimport { loginUser } from '../lib/auth'\r\nimport Router from 'next/router'\r\n\r\nconst LoginForm = () => {\r\n    const [state, setState] = useState({\r\n        email: '',\r\n        password: '',\r\n        error: ''\r\n    });\r\n\r\n    const handleChange = event => {\r\n        setState({ \r\n            ...state,\r\n            [event.target.name]: event.target.value })\r\n    };\r\n\r\n    const handleSubmit = event => {\r\n        const {email, password} = state\r\n        event.preventDefault();\r\n        setState({ error: ''});\r\n        loginUser(email, password).then(() => {\r\n            Router.push('/profile');\r\n        })\r\n        .catch(showError)\r\n    };\r\n\r\n    showError = err => {\r\n        console.error(err);\r\n        const error = err.response && err.response.data || err.message;\r\n        setState({ error });\r\n    }\r\n\r\n    const {email, password, error} = state;\r\n\r\n        return (\r\n            <form onSubmit={handleSubmit}>\r\n            <div><input type=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"email\"\r\n                value={email}\r\n                onChange={handleChange}\r\n            /></div>\r\n            <div><input type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"password\"\r\n                value={password}\r\n                onChange={handleChange}\r\n            /></div>\r\n            <button type=\"submit\">Submit</button>\r\n            {error && <div>{error}</div>}\r\n        </form>\r\n        )\r\n}\r\n\r\nexport default LoginForm\r\n"]},"metadata":{},"sourceType":"module"}