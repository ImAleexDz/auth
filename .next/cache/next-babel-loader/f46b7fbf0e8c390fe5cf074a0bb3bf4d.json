{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState } from 'react';\nimport { loginUser } from '../lib/auth';\nimport Router from 'next/router';\n\nconst LoginForm = () => {\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    email: '',\n    password: '',\n    error: '',\n    isLoading: false\n  });\n\n  const handleChange = event => {\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  const handleSubmit = event => {\n    const {\n      email,\n      password\n    } = state;\n    event.preventDefault();\n    setState({\n      error: '',\n      isLoading: true\n    });\n    loginUser(email, password).then(() => {\n      Router.push('/profile');\n    }).catch(showError);\n  };\n\n  const showError = err => {\n    console.error(err);\n    const error = err.response && err.response.data || err.message;\n    setState({\n      error,\n      isLoading: false\n    });\n  };\n\n  const {\n    email,\n    password,\n    error\n  } = state;\n  return /*#__PURE__*/_jsxs(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      children: /*#__PURE__*/_jsx(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"email\",\n        value: email,\n        onChange: handleChange\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      children: /*#__PURE__*/_jsx(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"password\",\n        value: password,\n        onChange: handleChange\n      })\n    }), /*#__PURE__*/_jsx(\"button\", {\n      disabled: isLoading,\n      type: \"submit\",\n      children: isLoading ? \"Sending\" : \"Submit\"\n    }), error && /*#__PURE__*/_jsx(\"div\", {\n      children: error\n    })]\n  });\n};\n\nexport default LoginForm;","map":{"version":3,"sources":["C:/Users/Aleex/Desktop/nextjs/auth/components/LoginForm.js"],"names":["React","useState","loginUser","Router","LoginForm","state","setState","email","password","error","isLoading","handleChange","event","target","name","value","handleSubmit","preventDefault","then","push","catch","showError","err","console","response","data","message"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,MAAP,MAAmB,aAAnB;;AAEA,MAAMC,SAAS,GAAG,MAAM;AACpB,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBL,QAAQ,CAAC;AAC/BM,IAAAA,KAAK,EAAE,EADwB;AAE/BC,IAAAA,QAAQ,EAAE,EAFqB;AAG/BC,IAAAA,KAAK,EAAE,EAHwB;AAI/BC,IAAAA,SAAS,EAAE;AAJoB,GAAD,CAAlC;;AAOA,QAAMC,YAAY,GAAGC,KAAK,IAAI;AAC1BN,IAAAA,QAAQ,iCACDD,KADC;AAEJ,OAACO,KAAK,CAACC,MAAN,CAAaC,IAAd,GAAqBF,KAAK,CAACC,MAAN,CAAaE;AAF9B,OAAR;AAGH,GAJD;;AAMA,QAAMC,YAAY,GAAGJ,KAAK,IAAI;AAC1B,UAAM;AAACL,MAAAA,KAAD;AAAQC,MAAAA;AAAR,QAAoBH,KAA1B;AACAO,IAAAA,KAAK,CAACK,cAAN;AACAX,IAAAA,QAAQ,CAAC;AAAEG,MAAAA,KAAK,EAAE,EAAT;AAAaC,MAAAA,SAAS,EAAE;AAAxB,KAAD,CAAR;AACAR,IAAAA,SAAS,CAACK,KAAD,EAAQC,QAAR,CAAT,CAA2BU,IAA3B,CAAgC,MAAM;AAClCf,MAAAA,MAAM,CAACgB,IAAP,CAAY,UAAZ;AACH,KAFD,EAGCC,KAHD,CAGOC,SAHP;AAIH,GARD;;AAUA,QAAMA,SAAS,GAAGC,GAAG,IAAI;AACrBC,IAAAA,OAAO,CAACd,KAAR,CAAca,GAAd;AACA,UAAMb,KAAK,GAAGa,GAAG,CAACE,QAAJ,IAAgBF,GAAG,CAACE,QAAJ,CAAaC,IAA7B,IAAqCH,GAAG,CAACI,OAAvD;AACApB,IAAAA,QAAQ,CAAC;AAAEG,MAAAA,KAAF;AAASC,MAAAA,SAAS,EAAE;AAApB,KAAD,CAAR;AACH,GAJD;;AAMA,QAAM;AAACH,IAAAA,KAAD;AAAQC,IAAAA,QAAR;AAAkBC,IAAAA;AAAlB,MAA2BJ,KAAjC;AAEI,sBACI;AAAM,IAAA,QAAQ,EAAEW,YAAhB;AAAA,4BACA;AAAA,6BAAK;AAAO,QAAA,IAAI,EAAC,OAAZ;AACD,QAAA,IAAI,EAAC,OADJ;AAED,QAAA,WAAW,EAAC,OAFX;AAGD,QAAA,KAAK,EAAET,KAHN;AAID,QAAA,QAAQ,EAAEI;AAJT;AAAL,MADA,eAOA;AAAA,6BAAK;AAAO,QAAA,IAAI,EAAC,UAAZ;AACD,QAAA,IAAI,EAAC,UADJ;AAED,QAAA,WAAW,EAAC,UAFX;AAGD,QAAA,KAAK,EAAEH,QAHN;AAID,QAAA,QAAQ,EAAEG;AAJT;AAAL,MAPA,eAaA;AAAQ,MAAA,QAAQ,EAAED,SAAlB;AAA6B,MAAA,IAAI,EAAC,QAAlC;AAAA,gBAA4CA,SAAS,GAAE,SAAF,GAAc;AAAnE,MAbA,EAcCD,KAAK,iBAAI;AAAA,gBAAMA;AAAN,MAdV;AAAA,IADJ;AAkBP,CAlDD;;AAoDA,eAAeL,SAAf","sourcesContent":["import React, { useState } from 'react'\r\nimport { loginUser } from '../lib/auth'\r\nimport Router from 'next/router'\r\n\r\nconst LoginForm = () => {\r\n    const [state, setState] = useState({\r\n        email: '',\r\n        password: '',\r\n        error: '',\r\n        isLoading: false\r\n    });\r\n\r\n    const handleChange = event => {\r\n        setState({ \r\n            ...state,\r\n            [event.target.name]: event.target.value })\r\n    };\r\n\r\n    const handleSubmit = event => {\r\n        const {email, password} = state\r\n        event.preventDefault();\r\n        setState({ error: '', isLoading: true});\r\n        loginUser(email, password).then(() => {\r\n            Router.push('/profile');\r\n        })\r\n        .catch(showError)\r\n    };\r\n\r\n    const showError = err => {\r\n        console.error(err);\r\n        const error = err.response && err.response.data || err.message;\r\n        setState({ error, isLoading: false });\r\n    }\r\n\r\n    const {email, password, error} = state;\r\n\r\n        return (\r\n            <form onSubmit={handleSubmit}>\r\n            <div><input type=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"email\"\r\n                value={email}\r\n                onChange={handleChange}\r\n            /></div>\r\n            <div><input type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"password\"\r\n                value={password}\r\n                onChange={handleChange}\r\n            /></div>\r\n            <button disabled={isLoading} type=\"submit\">{isLoading ?\"Sending\" : \"Submit\"}</button>\r\n            {error && <div>{error}</div>}\r\n        </form>\r\n        )\r\n}\r\n\r\nexport default LoginForm\r\n"]},"metadata":{},"sourceType":"module"}